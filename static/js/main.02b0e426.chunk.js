(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(20),r=c.n(a),i=c(16),l=c.n(i),o=c(21),j=c(10),h=c(11),d=c(13),b=c(12),u=c(7),x=c(2),v=c(0),O=function(e){return Object(v.jsx)("div",{class:"col-3",children:Object(v.jsxs)("ul",{class:"list-group m-4",children:[Object(v.jsx)("li",{onClick:function(){e.handleFilter("All Genre")},class:"list-group-item ".concat("All Genre"==e.selectedFilter?"active":""),children:"All Genre"}),e.genreData.map((function(t){return Object(v.jsx)("li",{onClick:function(){e.handleFilter(t.name)},class:"list-group-item ".concat(e.selectedFilter==t.name?"active":""),children:t.name},t._id)}))]})})},p=function(){return Object(v.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(v.jsxs)("div",{class:"container-fluid",children:[Object(v.jsx)("a",{class:"navbar-brand",href:"#",children:"MoviesRentals"}),Object(v.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{class:"navbar-toggler-icon"})}),Object(v.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(v.jsxs)("ul",{class:"navbar-nav",children:[Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)(u.b,{class:"nav-link active","aria-current":"page",to:"/",children:"Home"})}),Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)(u.b,{class:"nav-link",to:"/customer",children:"Customers"})}),Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)(u.b,{class:"nav-link",to:"/rentals",children:"Rentals"})}),Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)(u.b,{class:"nav-link",to:"/login",children:"Login"})})]})})]})})},g=function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{class:"mt-4",children:["Showing ",e.total," movies from the database"]}),Object(v.jsx)("button",{type:"button",class:"btn btn-primary mt-2",children:"New"}),Object(v.jsx)("div",{class:"row",children:Object(v.jsx)("div",{class:"col-4",children:Object(v.jsx)("div",{class:"input-group flex-nowrap",children:Object(v.jsx)("input",{type:"text",class:"form-control mt-4",placeholder:"Search...",value:e.Search,onChange:function(t){e.updateSearch(t.currentTarget.value)}})})})})]})},m=function(e){for(var t=[],c=1;c<=e.numberOfPages;c++)t.push(c);return Object(v.jsx)("nav",{children:Object(v.jsx)("ul",{class:"pagination mt-4",children:t.map((function(t){return Object(v.jsx)("li",{onClick:function(){e.selectPage(t)},class:"page-item ".concat(e.currPage===t?"active":""),children:Object(v.jsx)("a",{class:"page-link",children:t})})}))})})},f=(c(34),function(e){Object(d.a)(c,e);var t=Object(b.a)(c);function c(){var e;Object(j.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={currPage:1},e.selectPage=function(t){e.setState({currPage:t})},e}return Object(h.a)(c,[{key:"render",value:function(){var e=this,t=this.props.moviesData,c=this.props.selectedFilter,n=t.filter((function(e){return"All Genre"===c||(e.genre.name===c||void 0)}));n=n.filter((function(t){var c=t.title;c=c.toLowerCase();var n=e.props.search.toLowerCase();return c.includes(n)}));var s=Math.ceil(n.length/4),a=4*(this.state.currPage-1),r=Math.min(n.length,4*this.state.currPage),i=n.slice(a,r);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{class:"row",children:Object(v.jsx)("div",{class:"col-10",children:Object(v.jsxs)("table",{class:"table mt-4",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Title"}),Object(v.jsx)("th",{scope:"col",children:"Genre"}),Object(v.jsx)("th",{scope:"col",children:"Stock"}),Object(v.jsx)("th",{scope:"col",children:"Rate"}),Object(v.jsx)("th",{scope:"col"}),Object(v.jsx)("th",{scope:"col"})]})}),Object(v.jsx)("tbody",{children:i.map((function(t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t.title}),Object(v.jsx)("td",{children:t.genre.name}),Object(v.jsx)("td",{children:t.numberInStock}),Object(v.jsx)("td",{children:t.dailyRentalRate}),Object(v.jsx)("td",{onClick:function(){e.props.toggleLike(t._id)},children:t.liked?Object(v.jsx)("span",{class:"material-icons-outlined",children:"favorite"}):Object(v.jsx)("span",{class:"material-icons-outlined",children:"favorite_border"})}),Object(v.jsx)("td",{children:Object(v.jsx)("button",{onClick:function(){e.props.deleteMovie(t._id)},className:"table-delete-btn",children:"Delete"})})]},t._id)}))})]})})}),Object(v.jsx)(m,{selectPage:this.selectPage,currPage:this.state.currPage,numberOfPages:s})]})}}]),c}(s.a.Component)),k=f,F=function(){return Object(v.jsx)("h1",{children:"Login"})},y=function(){return Object(v.jsx)("h1",{children:"Customer"})},S=function(){return Object(v.jsx)("h1",{children:"Rentals"})},w=function(e){Object(d.a)(c,e);var t=Object(b.a)(c);function c(){var e;Object(j.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={movies:[],genre:[],selectedFilter:"All Genre",search:""},e.updateSearch=function(t){e.setState({search:t})},e.setFilter=function(t){e.setState({selectedFilter:t})},e.toggleLike=function(t){var c=e.state.movies.findIndex((function(e){return e._id===t})),n=e.state.movies.map((function(e){return e}));n[c].liked?n[c].liked=!1:n[c].liked=!0,e.setState({movies:n})},e.deleteMovie=function(t){var c=e.state.movies.filter((function(e){return e._id!==t}));e.setState({movies:c})},e}return Object(h.a)(c,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=Object(o.a)(l.a.mark((function t(){var c,n,s,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:4000/genre");case 2:return c=t.sent,t.next=5,fetch("http://localhost:4000/movies");case 5:return n=t.sent,t.next=8,n.json();case 8:return s=t.sent,t.next=11,c.json();case 11:a=t.sent,e.setState({movies:s,genre:a});case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}},{key:"render",value:function(){return Object(v.jsx)(u.a,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(p,{}),Object(v.jsxs)(x.c,{children:[Object(v.jsx)(x.a,{exact:!0,path:"/rentals/premium",children:Object(v.jsx)(F,{})}),Object(v.jsx)(x.a,{exact:!0,path:"/rentals",children:Object(v.jsx)(S,{})}),Object(v.jsx)(x.a,{path:"/customer",children:Object(v.jsx)(y,{})}),Object(v.jsx)(x.a,{path:"/login",children:Object(v.jsx)(F,{})}),Object(v.jsx)(x.a,{path:"/",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(O,{handleFilter:this.setFilter,selectedFilter:this.state.selectedFilter,genreData:this.state.genre}),Object(v.jsxs)("div",{className:"col-9 p-4",children:[Object(v.jsx)(g,{search:this.state.search,updateSearch:this.updateSearch,total:this.state.movies.length}),Object(v.jsx)(k,{search:this.state.search,deleteMovie:this.deleteMovie,toggleLike:this.toggleLike,selectedFilter:this.state.selectedFilter,moviesData:this.state.movies})]})]})})]})]})})}}]),c}(s.a.Component),P=w;r.a.render(Object(v.jsx)(P,{}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.02b0e426.chunk.js.map